import { findConfigFile } from "./findConfigFile.js";
export async function readProductionSettings({ directory = ".", mode, } = {}) {
    const configFile = await findConfigFile(directory);
    if (configFile && mode === "initialize") {
        return new Error(`Cannot run in --mode initialize in a directory that already has a ${configFile}.`);
    }
    if (configFile) {
        return {
            configFile,
            mode: "migrate",
        };
    }
    return {
        mode: mode ?? "initialize",
    };
}
//# sourceMappingURL=readProductionSettings.js.map